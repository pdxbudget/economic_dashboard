Commerce
=====================================  

Row {data-height=75}
-------------------------------------

```{r}
h3("Total Air Passengers")
```

Row
-------------------------------------
### Total Air Passengers as of March 2022 (YTD)

```{r}
valueBox(
  format_number(data$port$passenger[[1]], accuracy = 1L),
  icon = "fa-plane")
```

Row {data-height=75}
-------------------------------------

```{r}
h3("Total Air Freight")
```

Row
-------------------------------------
### Total Air Freight as of March 2022 (YTD in Tons)

```{r}
valueBox(
  format_number(data$port$freight[[1]], accuracy = 1L), 
  icon = "fa-dolly")
```

Row {data-height=75}
-------------------------------------

```{r}
h3("Total Marine Freight")
```

Row
-------------------------------------

### Total Tonnage as of Mar 2022 (YTD)
```{r}
valueBox(
  format_number(tail(data$port$marine$`Total Tonnage`, n=1) , accuracy = 1L), 
  icon = "fa-dolly")
```

Row {data-height=350}
-------------------------------------
### History

```{r}
  ggplotly(
    data$port$marine %>%
      ggplot(aes(x = Date, y = `Total Tonnage`)) +
      geom_line() +
      scale_y_continuous(labels = comma) +
      scale_x_date(date_breaks = "3 months" , date_labels = "%b %Y") +
      scale_color_viridis(discrete = TRUE) +
      theme_minimal() +
      theme(axis.text.x = element_text(angle = 45),
            axis.title.x = element_blank()))
```

### Context

We will explain this here